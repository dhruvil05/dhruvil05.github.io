<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NumPy Interactive Handbook</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }

        code,
        pre {
            font-family: 'JetBrains Mono', monospace;
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-in {
            animation: slideIn 0.5s ease-out forwards;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .code-block {
            background: #fafafa;
            border: 1px solid #e5e5e5;
            transition: all 0.3s ease;
        }

        .code-block:hover {
            border-color: #d1d1d1;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        }

        .nav-item {
            transition: all 0.2s ease;
        }

        .nav-item:hover {
            transform: translateX(4px);
        }

        .nav-item.active {
            color: #000;
            font-weight: 600;
            border-left: 2px solid #000;
            padding-left: 12px;
        }

        .performance-bar {
            transition: width 1s ease-out;
        }

        .memory-cell {
            transition: all 0.3s ease;
        }

        .memory-cell:hover {
            transform: scale(1.05);
        }

        .smooth-scroll {
            scroll-behavior: smooth;
        }

        .section-marker {
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .section:hover .section-marker {
            opacity: 1;
        }

        .copy-btn {
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .code-container:hover .copy-btn {
            opacity: 1;
        }

        .grid-bg {
            background-image: radial-gradient(circle, #e5e5e5 1px, transparent 1px);
            background-size: 24px 24px;
        }
    </style>
    <base target="_blank">
</head>

<body class="bg-white text-gray-900 antialiased smooth-scroll">

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 bg-white/90 backdrop-blur-md border-b border-gray-200 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-black text-white flex items-center justify-center font-bold text-lg rounded">
                        N</div>
                    <span class="font-semibold text-lg tracking-tight">NumPy Handbook</span>
                </div>
                <div class="hidden md:flex space-x-8 text-sm font-medium text-gray-600">
                    <a href="#why" class="hover:text-black transition-colors">Why NumPy</a>
                    <a href="#creating" class="hover:text-black transition-colors">Creating Arrays</a>
                    <a href="#indexing" class="hover:text-black transition-colors">Indexing</a>
                    <a href="#broadcasting" class="hover:text-black transition-colors">Broadcasting</a>
                </div>
                <button onclick="document.getElementById('sidebar').classList.toggle('-translate-x-full')"
                    class="md:hidden p-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile Sidebar -->
    <div id="sidebar"
        class="fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200 transform -translate-x-full transition-transform duration-300 z-40 pt-20 px-6 md:hidden">
        <div class="space-y-4 text-sm">
            <a href="#why" class="block py-2 text-gray-600 hover:text-black" onclick="closeSidebar()">Why NumPy</a>
            <a href="#creating" class="block py-2 text-gray-600 hover:text-black" onclick="closeSidebar()">Creating
                Arrays</a>
            <a href="#indexing" class="block py-2 text-gray-600 hover:text-black" onclick="closeSidebar()">Indexing &
                Slicing</a>
            <a href="#multidim" class="block py-2 text-gray-600 hover:text-black"
                onclick="closeSidebar()">Multidimensional</a>
            <a href="#dtype" class="block py-2 text-gray-600 hover:text-black" onclick="closeSidebar()">Data Types</a>
            <a href="#broadcasting" class="block py-2 text-gray-600 hover:text-black"
                onclick="closeSidebar()">Broadcasting</a>
            <a href="#math" class="block py-2 text-gray-600 hover:text-black" onclick="closeSidebar()">Math
                Functions</a>
        </div>
    </div>

    <div class="max-w-7xl mx-auto pt-24 pb-12 px-4 sm:px-6 lg:px-8">
        <div class="lg:grid lg:grid-cols-12 lg:gap-8">

            <!-- Desktop Sidebar -->
            <aside class="hidden lg:block lg:col-span-3 relative">
                <nav class="sticky top-24 overflow-y-auto h-[calc(100vh-8rem)] pr-4">
                    <h5 class="mb-3 text-sm font-semibold text-gray-900 uppercase tracking-wider">Contents</h5>
                    <ul class="space-y-2 text-sm text-gray-600">
                        <li><a href="#why"
                                class="nav-item block py-1 border-l-2 border-transparent hover:border-gray-300 pl-3"
                                onclick="setActive(this)">Why Use NumPy?</a></li>
                        <li><a href="#creating"
                                class="nav-item block py-1 border-l-2 border-transparent hover:border-gray-300 pl-3"
                                onclick="setActive(this)">Creating Arrays</a></li>
                        <li><a href="#indexing"
                                class="nav-item block py-1 border-l-2 border-transparent hover:border-gray-300 pl-3"
                                onclick="setActive(this)">Indexing & Slicing</a></li>
                        <li><a href="#multidim"
                                class="nav-item block py-1 border-l-2 border-transparent hover:border-gray-300 pl-3"
                                onclick="setActive(this)">Multidimensional Arrays</a></li>
                        <li><a href="#dtype"
                                class="nav-item block py-1 border-l-2 border-transparent hover:border-gray-300 pl-3"
                                onclick="setActive(this)">Data Types</a></li>
                        <li><a href="#broadcasting"
                                class="nav-item block py-1 border-l-2 border-transparent hover:border-gray-300 pl-3"
                                onclick="setActive(this)">Broadcasting</a></li>
                        <li><a href="#math"
                                class="nav-item block py-1 border-l-2 border-transparent hover:border-gray-300 pl-3"
                                onclick="setActive(this)">Math Functions</a></li>
                    </ul>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="lg:col-span-9">

                <!-- Hero -->
                <div class="mb-16 fade-in">
                    <h1 class="text-4xl sm:text-5xl font-bold tracking-tight text-gray-900 mb-6">
                        Master NumPy with <span class="text-gray-400">Interactive</span> Visualizations
                    </h1>
                    <p class="text-xl text-gray-600 leading-relaxed max-w-3xl">
                        The fundamental package for scientific computing in Python. Learn how to handle large,
                        multi-dimensional arrays with speed and efficiency.
                    </p>
                </div>

                <!-- Section: Why NumPy -->
                <section id="why" class="section mb-20 scroll-mt-24">
                    <div class="flex items-center mb-8">
                        <span class="section-marker text-gray-400 mr-3 text-sm">01</span>
                        <h2 class="text-3xl font-bold">Why Use NumPy?</h2>
                    </div>

                    <div class="prose prose-lg max-w-none text-gray-600 mb-8">
                        <p class="leading-relaxed">
                            Python lists are flexible but slow for numerical computing. NumPy solves these problems with
                            powerful array operations optimized in C.
                        </p>
                    </div>

                    <!-- Performance Comparison -->
                    <div class="bg-gray-50 rounded-2xl p-6 sm:p-8 mb-8 border border-gray-200">
                        <h3 class="text-lg font-semibold mb-6">Performance Comparison</h3>
                        <div class="space-y-6">
                            <div>
                                <div class="flex justify-between mb-2 text-sm font-medium">
                                    <span>Python List (Loop)</span>
                                    <span class="text-red-600">~120ms</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                                    <div class="performance-bar bg-red-500 h-3 rounded-full" style="width: 95%"
                                        id="py-bar"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-2 text-sm font-medium">
                                    <span>NumPy Array (Vectorized)</span>
                                    <span class="text-green-600">~1.2ms</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                                    <div class="performance-bar bg-green-500 h-3 rounded-full" style="width: 5%"
                                        id="np-bar"></div>
                                </div>
                            </div>
                        </div>
                        <p class="mt-4 text-sm text-gray-500">Adding two arrays of 1,000,000 elements</p>
                    </div>

                    <!-- Memory Visualization -->
                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="border border-gray-200 rounded-xl p-6">
                            <h4 class="font-semibold mb-4 flex items-center">
                                <span class="w-2 h-2 bg-red-500 rounded-full mr-2"></span>
                                Python List Memory
                            </h4>
                            <div class="grid grid-cols-4 gap-2" id="python-memory">
                                <!-- Generated by JS -->
                            </div>
                            <p class="mt-3 text-xs text-gray-500">Scattered pointers: High overhead</p>
                        </div>
                        <div class="border border-gray-200 rounded-xl p-6">
                            <h4 class="font-semibold mb-4 flex items-center">
                                <span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>
                                NumPy Array Memory
                            </h4>
                            <div class="flex flex-wrap gap-1" id="numpy-memory">
                                <!-- Generated by JS -->
                            </div>
                            <p class="mt-3 text-xs text-gray-500">Contiguous block: Cache efficient</p>
                        </div>
                    </div>

                    <div class="code-container relative">
                        <button
                            class="copy-btn absolute top-3 right-3 p-2 bg-white border border-gray-200 rounded-md text-xs hover:bg-gray-50"
                            onclick="copyCode(this)">Copy</button>
                        <pre class="code-block rounded-xl p-4 overflow-x-auto text-sm"><code class="language-python">import numpy as np
import time

size = 1_000_000

# Python list approach
list1 = list(range(size))
list2 = list(range(size))
start = time.time()
result = [x + y for x, y in zip(list1, list2)]
python_time = time.time() - start

# NumPy approach
arr1 = np.array(list1)
arr2 = np.array(list2)
start = time.time()
result = arr1 + arr2  # Vectorized operation
numpy_time = time.time() - start

print(f"Speedup: {python_time/numpy_time:.0f}x faster")</code></pre>
                    </div>
                </section>

                <!-- Section: Creating Arrays -->
                <section id="creating" class="section mb-20 scroll-mt-24">
                    <div class="flex items-center mb-8">
                        <span class="section-marker text-gray-400 mr-3 text-sm">02</span>
                        <h2 class="text-3xl font-bold">Creating Arrays</h2>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="space-y-4">
                            <h3 class="font-semibold text-lg">From Python Lists</h3>
                            <div class="code-container relative">
                                <button
                                    class="copy-btn absolute top-3 right-3 p-2 bg-white border border-gray-200 rounded-md text-xs hover:bg-gray-50"
                                    onclick="copyCode(this)">Copy</button>
                                <pre class="code-block rounded-xl p-4 text-sm"><code>import numpy as np

# 1D array
arr1 = np.array([1, 2, 3, 4, 5])

# 2D array
arr2 = np.array([[1, 2, 3], 
                 [4, 5, 6]])

print(arr2.shape)  # (2, 3)</code></pre>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <h3 class="font-semibold text-lg">Built-in Methods</h3>
                            <div class="code-container relative">
                                <button
                                    class="copy-btn absolute top-3 right-3 p-2 bg-white border border-gray-200 rounded-md text-xs hover:bg-gray-50"
                                    onclick="copyCode(this)">Copy</button>
                                <pre class="code-block rounded-xl p-4 text-sm"><code>np.zeros((3, 3))        # 3x3 zeros
np.ones((2, 4))         # 2x4 ones
np.full((2, 2), 7)      # Fill with 7
np.eye(4)               # Identity matrix
np.arange(0, 10, 2)     # [0, 2, 4, 6, 8]
np.linspace(0, 1, 5)    # 5 values from 0 to 1</code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Interactive Array Creator -->
                    <div class="bg-gray-50 rounded-2xl p-6 border border-gray-200">
                        <h3 class="font-semibold mb-4">Interactive Array Builder</h3>
                        <div class="flex flex-wrap gap-3 mb-4">
                            <button onclick="generateArray('zeros')"
                                class="px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm hover:border-gray-900 transition-colors">np.zeros((3,3))</button>
                            <button onclick="generateArray('ones')"
                                class="px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm hover:border-gray-900 transition-colors">np.ones((2,4))</button>
                            <button onclick="generateArray('arange')"
                                class="px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm hover:border-gray-900 transition-colors">np.arange(6)</button>
                            <button onclick="generateArray('random')"
                                class="px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm hover:border-gray-900 transition-colors">np.random.rand(3,3)</button>
                        </div>
                        <div id="array-display"
                            class="bg-white rounded-lg p-4 border border-gray-200 font-mono text-sm min-h-[100px] flex items-center justify-center text-gray-400">
                            Click a button to generate array
                        </div>
                    </div>
                </section>

                <!-- Section: Indexing -->
                <section id="indexing" class="section mb-20 scroll-mt-24">
                    <div class="flex items-center mb-8">
                        <span class="section-marker text-gray-400 mr-3 text-sm">03</span>
                        <h2 class="text-3xl font-bold">Indexing & Slicing</h2>
                    </div>

                    <div class="bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6 flex items-start">
                        <svg class="w-5 h-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                        </svg>
                        <div>
                            <h4 class="font-semibold text-amber-900 text-sm">Important: Views vs Copies</h4>
                            <p class="text-amber-800 text-sm mt-1">Slicing returns a <strong>view</strong>, not a copy.
                                Modifying the slice modifies the original array. Use <code>.copy()</code> if you need
                                independence.</p>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div>
                            <h3 class="font-semibold mb-3">Basic Indexing</h3>
                            <div class="code-container relative">
                                <button
                                    class="copy-btn absolute top-3 right-3 p-2 bg-white border border-gray-200 rounded-md text-xs hover:bg-gray-50"
                                    onclick="copyCode(this)">Copy</button>
                                <pre class="code-block rounded-xl p-4 text-sm"><code>arr = np.array([10, 20, 30, 40, 50])

arr[0]       # 10 (first)
arr[-1]      # 50 (last)
arr[1:4]     # [20, 30, 40]
arr[::2]     # [10, 30, 50]</code></pre>
                            </div>
                        </div>
                        <div>
                            <h3 class="font-semibold mb-3">Boolean Masking</h3>
                            <div class="code-container relative">
                                <button
                                    class="copy-btn absolute top-3 right-3 p-2 bg-white border border-gray-200 rounded-md text-xs hover:bg-gray-50"
                                    onclick="copyCode(this)">Copy</button>
                                <pre class="code-block rounded-xl p-4 text-sm"><code>arr = np.array([10, 20, 30, 40, 50])

# Filter values > 25
mask = arr > 25
arr[mask]    # [30, 40, 50]

# Direct filtering
arr[arr > 25]  # Same result</code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Interactive Indexing Demo -->
                    <div class="border border-gray-200 rounded-2xl p-6">
                        <h3 class="font-semibold mb-4">Visual Indexing Demo</h3>
                        <div class="flex flex-wrap gap-2 mb-4" id="index-array">
                            <!-- Generated by JS -->
                        </div>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <button onclick="highlightSlice('0')"
                                class="px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm transition-colors">[0]</button>
                            <button onclick="highlightSlice('1:4')"
                                class="px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm transition-colors">[1:4]</button>
                            <button onclick="highlightSlice('::2')"
                                class="px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm transition-colors">[::2]</button>
                            <button onclick="highlightSlice('>30')"
                                class="px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm transition-colors">[arr >
                                30]</button>
                        </div>
                        <div id="slice-result" class="text-sm text-gray-600 font-mono bg-gray-50 p-3 rounded-lg"></div>
                    </div>
                </section>

                <!-- Section: Multidimensional -->
                <section id="multidim" class="section mb-20 scroll-mt-24">
                    <div class="flex items-center mb-8">
                        <span class="section-marker text-gray-400 mr-3 text-sm">04</span>
                        <h2 class="text-3xl font-bold">Multidimensional Arrays</h2>
                    </div>

                    <div class="mb-6">
                        <p class="text-gray-600 mb-4">Understanding axes is crucial. In a 2D array: <strong>Axis
                                0</strong> = rows (vertical), <strong>Axis 1</strong> = columns (horizontal).</p>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="code-container relative">
                            <button
                                class="copy-btn absolute top-3 right-3 p-2 bg-white border border-gray-200 rounded-md text-xs hover:bg-gray-50"
                                onclick="copyCode(this)">Copy</button>
                            <pre class="code-block rounded-xl p-4 text-sm"><code>arr = np.array([[1, 2, 3],
                [4, 5, 6],
                [7, 8, 9]])

# Access element
arr[1, 2]      # 6 (row 1, col 2)

# Slice rows
arr[0:2, 1:3]  # [[2, 3],
               #  [5, 6]]</code></pre>
                        </div>
                        <div class="code-container relative">
                            <button
                                class="copy-btn absolute top-3 right-3 p-2 bg-white border border-gray-200 rounded-md text-xs hover:bg-gray-50"
                                onclick="copyCode(this)">Copy</button>
                            <pre class="code-block rounded-xl p-4 text-sm"><code># Operations along axes
np.sum(arr, axis=0)  # Sum columns: [12, 15, 18]
np.sum(arr, axis=1)  # Sum rows: [6, 15, 24]

# Modify column
arr[:, 1] = 0  # Set column 1 to 0</code></pre>
                        </div>
                    </div>

                    <!-- 3D Array Visualization -->
                    <div class="bg-gray-50 rounded-2xl p-6 border border-gray-200">
                        <h3 class="font-semibold mb-4">3D Array Structure</h3>
                        <div class="grid-bg rounded-xl p-4 bg-white border border-gray-200">
                            <div class="flex flex-col sm:flex-row justify-around items-center gap-4">
                                <div class="text-center">
                                    <div class="grid grid-cols-3 gap-1 mb-2">
                                        <div
                                            class="w-8 h-8 bg-blue-100 border border-blue-300 rounded flex items-center justify-center text-xs">
                                            1</div>
                                        <div
                                            class="w-8 h-8 bg-blue-100 border border-blue-300 rounded flex items-center justify-center text-xs">
                                            2</div>
                                        <div
                                            class="w-8 h-8 bg-blue-100 border border-blue-300 rounded flex items-center justify-center text-xs">
                                            3</div>
                                        <div
                                            class="w-8 h-8 bg-blue-100 border border-blue-300 rounded flex items-center justify-center text-xs">
                                            4</div>
                                        <div
                                            class="w-8 h-8 bg-blue-100 border border-blue-300 rounded flex items-center justify-center text-xs">
                                            5</div>
                                        <div
                                            class="w-8 h-8 bg-blue-100 border border-blue-300 rounded flex items-center justify-center text-xs">
                                            6</div>
                                    </div>
                                    <span class="text-xs text-gray-500">Sheet 0 (axis 0)</span>
                                </div>
                                <div class="text-2xl text-gray-300">+</div>
                                <div class="text-center">
                                    <div class="grid grid-cols-3 gap-1 mb-2">
                                        <div
                                            class="w-8 h-8 bg-green-100 border border-green-300 rounded flex items-center justify-center text-xs">
                                            7</div>
                                        <div
                                            class="w-8 h-8 bg-green-100 border border-green-300 rounded flex items-center justify-center text-xs">
                                            8</div>
                                        <div
                                            class="w-8 h-8 bg-green-100 border border-green-300 rounded flex items-center justify-center text-xs">
                                            9</div>
                                        <div
                                            class="w-8 h-8 bg-green-100 border border-green-300 rounded flex items-center justify-center text-xs">
                                            10</div>
                                        <div
                                            class="w-8 h-8 bg-green-100 border border-green-300 rounded flex items-center justify-center text-xs">
                                            11</div>
                                        <div
                                            class="w-8 h-8 bg-green-100 border border-green-300 rounded flex items-center justify-center text-xs">
                                            12</div>
                                    </div>
                                    <span class="text-xs text-gray-500">Sheet 1 (axis 0)</span>
                                </div>
                            </div>
                            <div class="mt-4 text-center text-xs text-gray-500 font-mono">arr3D[0, 1, 2] → 6 (Sheet 0,
                                Row 1, Col 2)</div>
                        </div>
                    </div>
                </section>

                <!-- Section: Data Types -->
                <section id="dtype" class="section mb-20 scroll-mt-24">
                    <div class="flex items-center mb-8">
                        <span class="section-marker text-gray-400 mr-3 text-sm">05</span>
                        <h2 class="text-3xl font-bold">Data Types</h2>
                    </div>

                    <p class="text-gray-600 mb-6">NumPy arrays are homogeneous (same type). Choosing the right dtype
                        optimizes memory and performance.</p>

                    <div class="overflow-x-auto mb-8">
                        <table class="w-full text-sm text-left border-collapse">
                            <thead>
                                <tr class="border-b border-gray-200">
                                    <th class="py-3 px-4 font-semibold">Type</th>
                                    <th class="py-3 px-4 font-semibold">Description</th>
                                    <th class="py-3 px-4 font-semibold">Memory</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-600">
                                <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                                    <td class="py-3 px-4 font-mono">int32</td>
                                    <td class="py-3 px-4">Integer</td>
                                    <td class="py-3 px-4">4 bytes</td>
                                </tr>
                                <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                                    <td class="py-3 px-4 font-mono">int64</td>
                                    <td class="py-3 px-4">Integer (default)</td>
                                    <td class="py-3 px-4">8 bytes</td>
                                </tr>
                                <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                                    <td class="py-3 px-4 font-mono">float32</td>
                                    <td class="py-3 px-4">Single precision</td>
                                    <td class="py-3 px-4">4 bytes</td>
                                </tr>
                                <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                                    <td class="py-3 px-4 font-mono">float64</td>
                                    <td class="py-3 px-4">Double precision (default)</td>
                                    <td class="py-3 px-4">8 bytes</td>
                                </tr>
                                <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                                    <td class="py-3 px-4 font-mono">bool</td>
                                    <td class="py-3 px-4">Boolean</td>
                                    <td class="py-3 px-4">1 byte</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="code-container relative">
                        <button
                            class="copy-btn absolute top-3 right-3 p-2 bg-white border border-gray-200 rounded-md text-xs hover:bg-gray-50"
                            onclick="copyCode(this)">Copy</button>
                        <pre class="code-block rounded-xl p-4 text-sm"><code># Specify dtype
arr = np.array([1, 2, 3], dtype=np.float32)

# Convert dtype
arr_int = arr.astype(np.int32)

# Check memory
arr_int64 = np.array([1, 2, 3], dtype=np.int64)   # 24 bytes
arr_int32 = np.array([1, 2, 3], dtype=np.int32)   # 12 bytes</code></pre>
                    </div>
                </section>

                <!-- Section: Broadcasting -->
                <section id="broadcasting" class="section mb-20 scroll-mt-24">
                    <div class="flex items-center mb-8">
                        <span class="section-marker text-gray-400 mr-3 text-sm">06</span>
                        <h2 class="text-3xl font-bold">Broadcasting</h2>
                    </div>

                    <p class="text-gray-600 mb-6">Broadcasting allows operations on arrays of different shapes without
                        creating copies. Smaller arrays are "stretched" to match larger ones.</p>

                    <!-- Broadcasting Visualization -->
                    <div class="grid md:grid-cols-3 gap-4 mb-8 items-center">
                        <div class="bg-blue-50 rounded-xl p-4 text-center border border-blue-100">
                            <div class="text-xs text-blue-600 mb-2 font-semibold">Array 1 (2x3)</div>
                            <div class="grid grid-cols-3 gap-1 justify-center inline-grid">
                                <div class="w-8 h-8 bg-blue-200 rounded flex items-center justify-center text-xs">1
                                </div>
                                <div class="w-8 h-8 bg-blue-200 rounded flex items-center justify-center text-xs">2
                                </div>
                                <div class="w-8 h-8 bg-blue-200 rounded flex items-center justify-center text-xs">3
                                </div>
                                <div class="w-8 h-8 bg-blue-200 rounded flex items-center justify-center text-xs">4
                                </div>
                                <div class="w-8 h-8 bg-blue-200 rounded flex items-center justify-center text-xs">5
                                </div>
                                <div class="w-8 h-8 bg-blue-200 rounded flex items-center justify-center text-xs">6
                                </div>
                            </div>
                        </div>
                        <div class="text-center text-2xl text-gray-400">+</div>
                        <div class="bg-green-50 rounded-xl p-4 text-center border border-green-100">
                            <div class="text-xs text-green-600 mb-2 font-semibold">Array 2 (1x3) → Broadcasted</div>
                            <div class="grid grid-cols-3 gap-1 justify-center inline-grid mb-1">
                                <div class="w-8 h-8 bg-green-200 rounded flex items-center justify-center text-xs">10
                                </div>
                                <div class="w-8 h-8 bg-green-200 rounded flex items-center justify-center text-xs">20
                                </div>
                                <div class="w-8 h-8 bg-green-200 rounded flex items-center justify-center text-xs">30
                                </div>
                            </div>
                            <div class="grid grid-cols-3 gap-1 justify-center inline-grid opacity-50">
                                <div class="w-8 h-8 bg-green-200 rounded flex items-center justify-center text-xs">10
                                </div>
                                <div class="w-8 h-8 bg-green-200 rounded flex items-center justify-center text-xs">20
                                </div>
                                <div class="w-8 h-8 bg-green-200 rounded flex items-center justify-center text-xs">30
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="code-container relative mb-6">
                        <button
                            class="copy-btn absolute top-3 right-3 p-2 bg-white border border-gray-200 rounded-md text-xs hover:bg-gray-50"
                            onclick="copyCode(this)">Copy</button>
                        <pre class="code-block rounded-xl p-4 text-sm"><code>arr1 = np.array([[1, 2, 3], [4, 5, 6]])      # Shape: (2, 3)
arr2 = np.array([10, 20, 30])                 # Shape: (3,)

result = arr1 + arr2  # Broadcasting adds arr2 to each row
# [[11, 22, 33],
#  [14, 25, 36]]</code></pre>
                    </div>

                    <div class="bg-gray-50 rounded-xl p-6 border border-gray-200">
                        <h4 class="font-semibold mb-3">Real-world: Data Normalization</h4>
                        <div class="code-container relative">
                            <button
                                class="copy-btn absolute top-3 right-3 p-2 bg-white border border-gray-200 rounded-md text-xs hover:bg-gray-50"
                                onclick="copyCode(this)">Copy</button>
                            <pre class="code-block rounded-lg p-4 text-sm bg-white"><code>data = np.array([[10, 20, 30],
                 [15, 25, 35],
                 [20, 30, 40]])

mean = data.mean(axis=0)    # [15, 25, 35]
std = data.std(axis=0)      # [4.08, 4.08, 4.08]

normalized = (data - mean) / std  # Broadcasting!</code></pre>
                        </div>
                    </div>
                </section>

                <!-- Section: Math Functions -->
                <section id="math" class="section mb-20 scroll-mt-24">
                    <div class="flex items-center mb-8">
                        <span class="section-marker text-gray-400 mr-3 text-sm">07</span>
                        <h2 class="text-3xl font-bold">Mathematical Functions</h2>
                    </div>

                    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8">
                        <div class="border border-gray-200 rounded-xl p-4 hover:border-gray-400 transition-colors">
                            <code class="text-sm font-semibold text-blue-600">np.mean()</code>
                            <p class="text-xs text-gray-600 mt-1">Average of elements</p>
                        </div>
                        <div class="border border-gray-200 rounded-xl p-4 hover:border-gray-400 transition-colors">
                            <code class="text-sm font-semibold text-blue-600">np.std()</code>
                            <p class="text-xs text-gray-600 mt-1">Standard deviation</p>
                        </div>
                        <div class="border border-gray-200 rounded-xl p-4 hover:border-gray-400 transition-colors">
                            <code class="text-sm font-semibold text-blue-600">np.sum()</code>
                            <p class="text-xs text-gray-600 mt-1">Sum of elements</p>
                        </div>
                        <div class="border border-gray-200 rounded-xl p-4 hover:border-gray-400 transition-colors">
                            <code class="text-sm font-semibold text-blue-600">np.min() / np.max()</code>
                            <p class="text-xs text-gray-600 mt-1">Minimum / Maximum</p>
                        </div>
                        <div class="border border-gray-200 rounded-xl p-4 hover:border-gray-400 transition-colors">
                            <code class="text-sm font-semibold text-blue-600">np.argmin() / np.argmax()</code>
                            <p class="text-xs text-gray-600 mt-1">Index of min/max</p>
                        </div>
                        <div class="border border-gray-200 rounded-xl p-4 hover:border-gray-400 transition-colors">
                            <code class="text-sm font-semibold text-blue-600">np.cumsum()</code>
                            <p class="text-xs text-gray-600 mt-1">Cumulative sum</p>
                        </div>
                    </div>

                    <div class="code-container relative">
                        <button
                            class="copy-btn absolute top-3 right-3 p-2 bg-white border border-gray-200 rounded-md text-xs hover:bg-gray-50"
                            onclick="copyCode(this)">Copy</button>
                        <pre class="code-block rounded-xl p-4 text-sm"><code>arr = np.array([10, 20, 30, 40, 50])

np.mean(arr)        # 30.0
np.std(arr)         # 14.14...
np.percentile(arr, 50)  # 30.0 (median)
np.corrcoef(arr1, arr2) # Correlation matrix</code></pre>
                    </div>
                </section>

                <!-- Footer -->
                <footer class="border-t border-gray-200 pt-8 mt-16 text-center text-sm text-gray-500">
                    <p>NumPy Interactive Handbook • Built for learning</p>
                </footer>

            </main>
        </div>
    </div>

    <script>
        // Initialize animations on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in');
                }
            });
        }, observerOptions);

        document.querySelectorAll('section').forEach(section => {
            observer.observe(section);
        });

        // Active nav item
        function setActive(element) {
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('active');
                el.classList.remove('border-black');
                el.classList.add('border-transparent');
            });
            element.classList.add('active');
            element.classList.remove('border-transparent');
        }

        // Close sidebar
        function closeSidebar() {
            document.getElementById('sidebar').classList.add('-translate-x-full');
        }

        // Copy code function
        function copyCode(btn) {
            const code = btn.nextElementSibling.textContent;
            navigator.clipboard.writeText(code).then(() => {
                const original = btn.textContent;
                btn.textContent = 'Copied!';
                btn.classList.add('text-green-600');
                setTimeout(() => {
                    btn.textContent = original;
                    btn.classList.remove('text-green-600');
                }, 2000);
            });
        }

        // Generate memory visualizations
        function initMemoryViz() {
            // Python list (scattered)
            const pyContainer = document.getElementById('python-memory');
            for (let i = 0; i < 8; i++) {
                const div = document.createElement('div');
                div.className = 'memory-cell w-full h-8 bg-red-100 border border-red-200 rounded flex items-center justify-center text-xs text-red-700';
                div.style.transform = `rotate(${Math.random() * 6 - 3}deg)`;
                div.textContent = i;
                pyContainer.appendChild(div);
            }

            // NumPy array (contiguous)
            const npContainer = document.getElementById('numpy-memory');
            for (let i = 0; i < 12; i++) {
                const div = document.createElement('div');
                div.className = 'memory-cell w-8 h-8 bg-green-100 border border-green-200 rounded flex items-center justify-center text-xs text-green-700';
                div.textContent = i;
                npContainer.appendChild(div);
            }
        }

        // Array generator
        function generateArray(type) {
            const display = document.getElementById('array-display');
            let result = '';

            switch (type) {
                case 'zeros':
                    result = `array([[0., 0., 0.],
       [0., 0., 0.],
       [0., 0., 0.]])\n\nShape: (3, 3) | dtype: float64`;
                    break;
                case 'ones':
                    result = `array([[1., 1., 1., 1.],
       [1., 1., 1., 1.]])\n\nShape: (2, 4) | dtype: float64`;
                    break;
                case 'arange':
                    result = `array([0, 1, 2, 3, 4, 5])\n\nShape: (6,) | dtype: int64`;
                    break;
                case 'random':
                    const rand = Array(3).fill().map(() =>
                        Array(3).fill().map(() => (Math.random()).toFixed(4))
                    );
                    result = `array([[${rand[0].join(', ')}],\n       [${rand[1].join(', ')}],\n       [${rand[2].join(', ')}]])\n\nShape: (3, 3) | dtype: float64`;
                    break;
            }

            display.style.opacity = '0';
            setTimeout(() => {
                display.textContent = result;
                display.className = 'bg-white rounded-lg p-4 border border-gray-200 font-mono text-sm text-gray-800 whitespace-pre';
                display.style.opacity = '1';
                display.style.transition = 'opacity 0.3s';
            }, 150);
        }

        // Indexing demo
        function initIndexingDemo() {
            const container = document.getElementById('index-array');
            const values = [10, 20, 30, 40, 50];
            values.forEach((val, idx) => {
                const div = document.createElement('div');
                div.className = 'index-cell w-12 h-12 bg-gray-100 border-2 border-gray-300 rounded-lg flex items-center justify-center font-mono font-semibold transition-all duration-300';
                div.textContent = val;
                div.dataset.index = idx;
                div.dataset.value = val;
                container.appendChild(div);
            });
        }

        function highlightSlice(type) {
            const cells = document.querySelectorAll('.index-cell');
            const resultDiv = document.getElementById('slice-result');

            cells.forEach(cell => {
                cell.classList.remove('bg-blue-500', 'text-white', 'border-blue-600', 'scale-110');
                cell.classList.add('bg-gray-100', 'border-gray-300');
            });

            let result = [];
            let description = '';

            cells.forEach((cell, idx) => {
                let shouldHighlight = false;

                if (type === '0' && idx === 0) shouldHighlight = true;
                else if (type === '1:4' && idx >= 1 && idx <= 3) shouldHighlight = true;
                else if (type === '::2' && idx % 2 === 0) shouldHighlight = true;
                else if (type === '>30' && parseInt(cell.dataset.value) > 30) shouldHighlight = true;

                if (shouldHighlight) {
                    cell.classList.remove('bg-gray-100', 'border-gray-300');
                    cell.classList.add('bg-blue-500', 'text-white', 'border-blue-600', 'scale-110');
                    result.push(cell.dataset.value);
                }
            });

            const syntax = type === '>30' ? 'arr[arr > 30]' : `arr[${type}]`;
            description = `${syntax} → [${result.join(', ')}]`;
            resultDiv.textContent = description;
        }

        // Animate performance bars on scroll
        const perfObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    setTimeout(() => {
                        document.getElementById('py-bar').style.width = '95%';
                        document.getElementById('np-bar').style.width = '5%';
                    }, 300);
                }
            });
        });

        const perfSection = document.getElementById('py-bar');
        if (perfSection) perfObserver.observe(perfSection.parentElement.parentElement);

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initMemoryViz();
            initIndexingDemo();
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>

</html>