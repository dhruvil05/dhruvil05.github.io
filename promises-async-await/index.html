<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Async Mastery | Promises & Async/Await</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
        rel="stylesheet">

    <!-- Prism.js for Syntax Highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        primary: '#2563eb',
                        secondary: '#7c3aed',
                        accent: '#06b6d4',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.5s ease-out',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #ffffff;
            color: #1f2937;
        }

        .gradient-text {
            background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .code-window {
            background: #1e1e1e;
            border-radius: 0.75rem;
            overflow: hidden;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .code-header {
            background: #2d2d2d;
            padding: 0.75rem 1rem;
            display: flex;
            gap: 0.5rem;
            border-bottom: 1px solid #3d3d3d;
        }

        .code-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .interactive-card {
            transition: all 0.3s ease;
        }

        .interactive-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .state-badge {
            transition: all 0.3s ease;
        }

        .console-output {
            font-family: 'JetBrains Mono', monospace;
            background: #0f172a;
            color: #e2e8f0;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        .tab-active {
            border-bottom: 2px solid #2563eb;
            color: #2563eb;
        }

        .progress-bar {
            transition: width 0.3s ease;
        }
    </style>
    <base target="_blank">
</head>

<body class="antialiased">

    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-white/80 backdrop-blur-md border-b border-gray-200 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <i data-lucide="zap" class="w-6 h-6 text-primary"></i>
                    <span class="font-bold text-xl tracking-tight">Async<span class="text-primary">JS</span></span>
                </div>
                <div class="hidden md:flex space-x-8 text-sm font-medium text-gray-600">
                    <a href="#fundamentals" class="hover:text-primary transition-colors" target="_self">Fundamentals</a>
                    <a href="#chaining" class="hover:text-primary transition-colors" target="_self">Chaining</a>
                    <a href="#async-await" class="hover:text-primary transition-colors" target="_self">Async/Await</a>
                    <a href="#methods" class="hover:text-primary transition-colors" target="_self">Methods</a>
                    <a href="#playground" class="hover:text-primary transition-colors" target="_self">Playground</a>
                </div>
                <button onclick="document.getElementById('playground').scrollIntoView({behavior: 'smooth'})"
                    class="bg-primary text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-700 transition-all transform hover:scale-105">
                    Try Demo
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="pt-32 pb-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        <div class="text-center max-w-4xl mx-auto animate-fade-in">
            <div
                class="inline-flex items-center px-3 py-1 rounded-full bg-blue-50 text-blue-700 text-sm font-medium mb-6 border border-blue-100">
                <span class="flex h-2 w-2 rounded-full bg-blue-600 mr-2 animate-pulse"></span>
                Modern JavaScript Guide
            </div>
            <h1 class="text-5xl md:text-7xl font-bold tracking-tight mb-6 leading-tight">
                Master <span class="gradient-text">Asynchronous</span><br>
                JavaScript
            </h1>
            <p class="text-xl text-gray-600 mb-10 max-w-2xl mx-auto leading-relaxed">
                From callbacks to Promises to Async/Await. Learn how to write clean, non-blocking code with interactive
                examples and visual explanations.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button onclick="document.getElementById('fundamentals').scrollIntoView({behavior: 'smooth'})"
                    class="px-8 py-4 bg-gray-900 text-white rounded-full font-medium hover:bg-gray-800 transition-all transform hover:scale-105 flex items-center justify-center gap-2">
                    Start Learning <i data-lucide="arrow-down" class="w-4 h-4"></i>
                </button>
                <button onclick="document.getElementById('playground').scrollIntoView({behavior: 'smooth'})"
                    class="px-8 py-4 bg-white text-gray-900 border-2 border-gray-200 rounded-full font-medium hover:border-gray-400 transition-all flex items-center justify-center gap-2">
                    <i data-lucide="play" class="w-4 h-4"></i> Live Demo
                </button>
            </div>
        </div>
    </section>

    <!-- Promise States Visualization -->
    <section class="py-20 bg-gray-50" id="fundamentals">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-16 items-center">
                <div class="animate-slide-up">
                    <h2 class="text-3xl font-bold mb-6">Understanding Promise States</h2>
                    <p class="text-gray-600 mb-8 text-lg leading-relaxed">
                        A Promise is an object representing the eventual completion or failure of an asynchronous
                        operation. It exists in one of three states:
                    </p>

                    <div class="space-y-4">
                        <div class="flex items-start gap-4 p-4 bg-white rounded-xl border border-gray-200 interactive-card cursor-pointer"
                            onmouseenter="highlightState('pending')" onmouseleave="resetState()">
                            <div
                                class="w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center flex-shrink-0">
                                <div class="w-4 h-4 rounded-full bg-yellow-500 animate-pulse"></div>
                            </div>
                            <div>
                                <h3 class="font-semibold text-lg">Pending</h3>
                                <p class="text-gray-600 text-sm">Initial state, neither fulfilled nor rejected. The
                                    operation is still ongoing.</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-4 p-4 bg-white rounded-xl border border-gray-200 interactive-card cursor-pointer"
                            onmouseenter="highlightState('fulfilled')" onmouseleave="resetState()">
                            <div
                                class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0">
                                <i data-lucide="check" class="w-6 h-6 text-green-600"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-lg">Fulfilled</h3>
                                <p class="text-gray-600 text-sm">Operation completed successfully. The promise has a
                                    resolved value.</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-4 p-4 bg-white rounded-xl border border-gray-200 interactive-card cursor-pointer"
                            onmouseenter="highlightState('rejected')" onmouseleave="resetState()">
                            <div
                                class="w-12 h-12 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0">
                                <i data-lucide="x" class="w-6 h-6 text-red-600"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-lg">Rejected</h3>
                                <p class="text-gray-600 text-sm">Operation failed. The promise has a reason for the
                                    failure.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="relative">
                    <div class="code-window">
                        <div class="code-header">
                            <div class="code-dot bg-red-500"></div>
                            <div class="code-dot bg-yellow-500"></div>
                            <div class="code-dot bg-green-500"></div>
                            <span class="ml-2 text-gray-400 text-xs">promise-basics.js</span>
                        </div>
                        <pre class="!m-0 !bg-[#1e1e1e]"><code class="language-javascript">const myPromise = new Promise((resolve, reject) => {
  const success = true;
  
  setTimeout(() => {
    if (success) {
      resolve("Operation successful! ðŸŽ‰");
    } else {
      reject("Operation failed! âŒ");
    }
  }, 2000);
});

// Consuming the Promise
myPromise
  .then(result => {
    console.log("Success:", result);
  })
  .catch(error => {
    console.log("Error:", error);
  })
  .finally(() => {
    console.log("Cleanup complete");
  });</code></pre>
                    </div>

                    <!-- Floating Badge -->
                    <div
                        class="absolute -bottom-6 -right-6 bg-white p-4 rounded-xl shadow-xl border border-gray-100 hidden lg:block animate-pulse-slow">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center">
                                <i data-lucide="info" class="w-5 h-5 text-blue-600"></i>
                            </div>
                            <div>
                                <p class="text-xs text-gray-500">Pro Tip</p>
                                <p class="text-sm font-medium">Always handle errors!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Promise Chaining -->
    <section class="py-20" id="chaining">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">Promise Chaining</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">
                    Avoid "Callback Hell" by chaining promises. Each <code
                        class="bg-gray-100 px-2 py-1 rounded text-sm font-mono text-primary">.then()</code> returns a
                    new promise, allowing sequential asynchronous operations.
                </p>
            </div>

            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Visual Flow -->
                <div class="bg-gradient-to-br from-gray-50 to-white p-8 rounded-2xl border border-gray-200">
                    <h3 class="font-semibold text-lg mb-6 flex items-center gap-2">
                        <i data-lucide="git-commit" class="w-5 h-5 text-primary"></i>
                        Execution Flow
                    </h3>
                    <div class="space-y-6 relative">
                        <div class="absolute left-6 top-8 bottom-8 w-0.5 bg-gray-200"></div>

                        <div class="relative flex items-center gap-4">
                            <div
                                class="w-12 h-12 rounded-full bg-blue-100 border-4 border-white shadow-md flex items-center justify-center z-10">
                                <span class="text-blue-600 font-bold">1</span>
                            </div>
                            <div class="flex-1 bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                                <p class="font-medium">fetchUserData(123)</p>
                                <p class="text-sm text-gray-500">Returns Promise&lt;User&gt;</p>
                            </div>
                        </div>

                        <div class="relative flex items-center gap-4">
                            <div
                                class="w-12 h-12 rounded-full bg-purple-100 border-4 border-white shadow-md flex items-center justify-center z-10">
                                <span class="text-purple-600 font-bold">2</span>
                            </div>
                            <div class="flex-1 bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                                <p class="font-medium">.then(user =&gt; ...)</p>
                                <p class="text-sm text-gray-500">Returns Promise&lt;Posts&gt;</p>
                            </div>
                        </div>

                        <div class="relative flex items-center gap-4">
                            <div
                                class="w-12 h-12 rounded-full bg-green-100 border-4 border-white shadow-md flex items-center justify-center z-10">
                                <span class="text-green-600 font-bold">3</span>
                            </div>
                            <div class="flex-1 bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                                <p class="font-medium">.then(posts =&gt; ...)</p>
                                <p class="text-sm text-gray-500">Returns postCount</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Code Example -->
                <div class="code-window h-full">
                    <div class="code-header flex justify-between items-center">
                        <div class="flex gap-2">
                            <div class="code-dot bg-red-500"></div>
                            <div class="code-dot bg-yellow-500"></div>
                            <div class="code-dot bg-green-500"></div>
                        </div>
                        <span class="text-gray-400 text-xs">chaining.js</span>
                    </div>
                    <pre class="!m-0 !bg-[#1e1e1e] h-full"><code class="language-javascript">function fetchUserData(userId) {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve({ id: userId, name: "John Doe" });
    }, 1000);
  });
}

function fetchUserPosts(user) {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve([
        { title: "Post 1", content: "Hello" },
        { title: "Post 2", content: "World" }
      ]);
    }, 1000);
  });
}

// Chaining
fetchUserData(123)
  .then(user => {
    console.log("User:", user);
    return fetchUserPosts(user);
  })
  .then(posts => {
    console.log("Posts:", posts);
    return posts.length;
  })
  .then(count => {
    console.log("Total:", count);
  })
  .catch(error => {
    console.error("Error:", error);
  });</code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Async/Await Section -->
    <section class="py-20 bg-gray-50" id="async-await">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-16 items-start">
                <div>
                    <div
                        class="inline-flex items-center px-3 py-1 rounded-full bg-purple-100 text-purple-700 text-sm font-medium mb-4">
                        Syntactic Sugar
                    </div>
                    <h2 class="text-3xl md:text-4xl font-bold mb-6">Async/Await</h2>
                    <p class="text-gray-600 mb-8 text-lg leading-relaxed">
                        Write asynchronous code that looks and behaves like synchronous code. Easier to read, easier to
                        debug.
                    </p>

                    <div class="space-y-6">
                        <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                            <div class="flex items-start gap-4">
                                <div
                                    class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0">
                                    <span class="text-blue-600 font-mono font-bold">async</span>
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-1">The async Keyword</h4>
                                    <p class="text-gray-600 text-sm">Automatically wraps the return value in a Promise.
                                        Makes any function return a Promise.</p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                            <div class="flex items-start gap-4">
                                <div
                                    class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center flex-shrink-0">
                                    <span class="text-purple-600 font-mono font-bold">await</span>
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-1">The await Keyword</h4>
                                    <p class="text-gray-600 text-sm">Pauses execution until the Promise resolves. Can
                                        only be used inside async functions.</p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                            <div class="flex items-start gap-4">
                                <div
                                    class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center flex-shrink-0">
                                    <i data-lucide="shield" class="w-5 h-5 text-green-600"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-1">Error Handling</h4>
                                    <p class="text-gray-600 text-sm">Use standard try/catch blocks instead of .catch().
                                        Much more intuitive!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="space-y-6">
                    <div class="flex gap-4 border-b border-gray-200 mb-4">
                        <button onclick="switchTab('promise')" id="tab-promise"
                            class="pb-2 px-1 text-sm font-medium text-gray-500 hover:text-gray-700 tab-active transition-colors">
                            Promise Style
                        </button>
                        <button onclick="switchTab('async')" id="tab-async"
                            class="pb-2 px-1 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors">
                            Async/Await Style
                        </button>
                    </div>

                    <div id="content-promise" class="code-window">
                        <div class="code-header">
                            <div class="code-dot bg-red-500"></div>
                            <div class="code-dot bg-yellow-500"></div>
                            <div class="code-dot bg-green-500"></div>
                            <span class="ml-2 text-gray-400 text-xs">promise-style.js</span>
                        </div>
                        <pre class="!m-0 !bg-[#1e1e1e]"><code class="language-javascript">function getData() {
  return fetchUserData(123)
    .then(user => {
      console.log(user);
      return fetchUserPosts(user);
    })
    .then(posts => {
      console.log(posts);
      return processPosts(posts);
    })
    .then(result => {
      console.log(result);
    })
    .catch(error => {
      console.error(error);
    });
}</code></pre>
                    </div>

                    <div id="content-async" class="code-window hidden">
                        <div class="code-header">
                            <div class="code-dot bg-red-500"></div>
                            <div class="code-dot bg-yellow-500"></div>
                            <div class="code-dot bg-green-500"></div>
                            <span class="ml-2 text-gray-400 text-xs">async-await.js</span>
                        </div>
                        <pre class="!m-0 !bg-[#1e1e1e]"><code class="language-javascript">async function getData() {
  try {
    const user = await fetchUserData(123);
    console.log(user);
    
    const posts = await fetchUserPosts(user);
    console.log(posts);
    
    const result = await processPosts(posts);
    console.log(result);
    
  } catch (error) {
    console.error(error);
  }
}</code></pre>
                    </div>

                    <div class="bg-blue-50 border border-blue-100 rounded-xl p-4 flex gap-3">
                        <i data-lucide="lightbulb" class="w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"></i>
                        <p class="text-sm text-blue-800">
                            <strong>Key Insight:</strong> Both examples do exactly the same thing! Async/await is just
                            cleaner syntax for the same Promise-based behavior.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Promise Methods -->
    <section class="py-20" id="methods">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4">Promise Static Methods</h2>
            <p class="text-gray-600 text-center max-w-2xl mx-auto mb-16">
                Utility methods for handling multiple promises concurrently. Essential for performance optimization.
            </p>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- Promise.all -->
                <div
                    class="bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-xl transition-shadow duration-300">
                    <div class="bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white">
                        <h3 class="text-xl font-bold mb-2">Promise.all()</h3>
                        <p class="text-blue-100 text-sm">Wait for all or fail fast</p>
                    </div>
                    <div class="p-6">
                        <p class="text-gray-600 text-sm mb-4">
                            Waits for all promises to resolve. If any promise rejects, immediately rejects with that
                            error.
                        </p>
                        <div class="bg-gray-900 rounded-lg p-3 text-xs font-mono text-gray-300 overflow-x-auto">
                            <span class="text-purple-400">Promise</span>.all([<br>
                            &nbsp;&nbsp;p1, p2, p3<br>
                            ]).then(values => {<br>
                            &nbsp;&nbsp;// [v1, v2, v3]<br>
                            });
                        </div>
                        <div class="mt-4 flex items-center gap-2 text-xs text-gray-500">
                            <i data-lucide="clock" class="w-4 h-4"></i>
                            <span>Resolves when slowest promise resolves</span>
                        </div>
                    </div>
                </div>

                <!-- Promise.race -->
                <div
                    class="bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-xl transition-shadow duration-300">
                    <div class="bg-gradient-to-r from-purple-500 to-purple-600 p-6 text-white">
                        <h3 class="text-xl font-bold mb-2">Promise.race()</h3>
                        <p class="text-purple-100 text-sm">First to settle wins</p>
                    </div>
                    <div class="p-6">
                        <p class="text-gray-600 text-sm mb-4">
                            Returns the first promise that settles (resolves or rejects). Great for timeouts!
                        </p>
                        <div class="bg-gray-900 rounded-lg p-3 text-xs font-mono text-gray-300 overflow-x-auto">
                            <span class="text-purple-400">Promise</span>.race([<br>
                            &nbsp;&nbsp;fetch(url),<br>
                            &nbsp;&nbsp;timeout(5000)<br>
                            ]).then(winner => {<br>
                            &nbsp;&nbsp;// First done<br>
                            });
                        </div>
                        <div class="mt-4 flex items-center gap-2 text-xs text-gray-500">
                            <i data-lucide="zap" class="w-4 h-4"></i>
                            <span>Resolves/rejects with first result</span>
                        </div>
                    </div>
                </div>

                <!-- Promise.allSettled -->
                <div
                    class="bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-xl transition-shadow duration-300">
                    <div class="bg-gradient-to-r from-green-500 to-green-600 p-6 text-white">
                        <h3 class="text-xl font-bold mb-2">Promise.allSettled()</h3>
                        <p class="text-green-100 text-sm">Wait for all regardless</p>
                    </div>
                    <div class="p-6">
                        <p class="text-gray-600 text-sm mb-4">
                            Waits for all promises to settle, regardless of outcome. Never rejects, always resolves with
                            status array.
                        </p>
                        <div class="bg-gray-900 rounded-lg p-3 text-xs font-mono text-gray-300 overflow-x-auto">
                            <span class="text-purple-400">Promise</span>.allSettled([<br>
                            &nbsp;&nbsp;p1, p2, p3<br>
                            ]).then(results => {<br>
                            &nbsp;&nbsp;// [{status, value}, ...]<br>
                            });
                        </div>
                        <div class="mt-4 flex items-center gap-2 text-xs text-gray-500">
                            <i data-lucide="check-circle" class="w-4 h-4"></i>
                            <span>Always resolves, inspect status</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Playground -->
    <section class="py-20 bg-gray-900 text-white" id="playground">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">Interactive Playground</h2>
                <p class="text-gray-400">Run live JavaScript demos to see Promises in action</p>
            </div>

            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Controls -->
                <div class="space-y-4">
                    <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                        <h3 class="font-semibold mb-4 flex items-center gap-2">
                            <i data-lucide="play-circle" class="w-5 h-5 text-primary"></i>
                            Demo Controls
                        </h3>

                        <div class="space-y-3">
                            <button onclick="runBasicPromise()"
                                class="w-full text-left px-4 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors flex items-center justify-between group">
                                <div>
                                    <span class="font-medium block">Basic Promise</span>
                                    <span class="text-xs text-gray-400">Resolve vs Reject</span>
                                </div>
                                <i data-lucide="chevron-right"
                                    class="w-5 h-5 text-gray-500 group-hover:text-white transition-colors"></i>
                            </button>

                            <button onclick="runChaining()"
                                class="w-full text-left px-4 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors flex items-center justify-between group">
                                <div>
                                    <span class="font-medium block">Promise Chain</span>
                                    <span class="text-xs text-gray-400">Sequential async operations</span>
                                </div>
                                <i data-lucide="chevron-right"
                                    class="w-5 h-5 text-gray-500 group-hover:text-white transition-colors"></i>
                            </button>

                            <button onclick="runAsyncAwait()"
                                class="w-full text-left px-4 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors flex items-center justify-between group">
                                <div>
                                    <span class="font-medium block">Async/Await</span>
                                    <span class="text-xs text-gray-400">Modern syntax demo</span>
                                </div>
                                <i data-lucide="chevron-right"
                                    class="w-5 h-5 text-gray-500 group-hover:text-white transition-colors"></i>
                            </button>

                            <button onclick="runPromiseAll()"
                                class="w-full text-left px-4 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors flex items-center justify-between group">
                                <div>
                                    <span class="font-medium block">Promise.all()</span>
                                    <span class="text-xs text-gray-400">Parallel execution</span>
                                </div>
                                <i data-lucide="chevron-right"
                                    class="w-5 h-5 text-gray-500 group-hover:text-white transition-colors"></i>
                            </button>

                            <button onclick="runPromiseRace()"
                                class="w-full text-left px-4 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors flex items-center justify-between group">
                                <div>
                                    <span class="font-medium block">Promise.race()</span>
                                    <span class="text-xs text-gray-400">First to complete</span>
                                </div>
                                <i data-lucide="chevron-right"
                                    class="w-5 h-5 text-gray-500 group-hover:text-white transition-colors"></i>
                            </button>
                        </div>
                    </div>

                    <button onclick="clearConsole()"
                        class="w-full py-3 rounded-lg border border-gray-600 text-gray-400 hover:text-white hover:border-gray-400 transition-colors flex items-center justify-center gap-2">
                        <i data-lucide="trash-2" class="w-4 h-4"></i>
                        Clear Console
                    </button>
                </div>

                <!-- Console Output -->
                <div class="bg-gray-950 rounded-xl border border-gray-800 overflow-hidden flex flex-col h-[500px]">
                    <div class="bg-gray-900 px-4 py-3 border-b border-gray-800 flex items-center justify-between">
                        <div class="flex items-center gap-2">
                            <i data-lucide="terminal" class="w-4 h-4 text-gray-400"></i>
                            <span class="text-sm font-mono text-gray-400">Console Output</span>
                        </div>
                        <div class="flex gap-1.5">
                            <div class="w-3 h-3 rounded-full bg-red-500/20 border border-red-500/50"></div>
                            <div class="w-3 h-3 rounded-full bg-yellow-500/20 border border-yellow-500/50"></div>
                            <div class="w-3 h-3 rounded-full bg-green-500/20 border border-green-500/50"></div>
                        </div>
                    </div>
                    <div id="console-output" class="flex-1 p-4 font-mono text-sm overflow-y-auto space-y-2">
                        <div class="text-gray-500 italic">// Click a demo button above to see output...</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Comparison Table -->
    <section class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center mb-12">Promises vs Async/Await</h2>

            <div class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="w-full text-left">
                        <thead class="bg-gray-50 border-b border-gray-200">
                            <tr>
                                <th class="px-6 py-4 text-sm font-semibold text-gray-900">Aspect</th>
                                <th class="px-6 py-4 text-sm font-semibold text-gray-900">Promises (.then/.catch)</th>
                                <th class="px-6 py-4 text-sm font-semibold text-gray-900">Async/Await</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 text-sm font-medium text-gray-900">Syntax Style</td>
                                <td class="px-6 py-4 text-sm text-gray-600">Functional, chain-based</td>
                                <td class="px-6 py-4 text-sm text-gray-600">Procedural, synchronous-like</td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 text-sm font-medium text-gray-900">Error Handling</td>
                                <td class="px-6 py-4 text-sm text-gray-600"><code
                                        class="bg-gray-100 px-2 py-1 rounded">.catch()</code></td>
                                <td class="px-6 py-4 text-sm text-gray-600"><code
                                        class="bg-gray-100 px-2 py-1 rounded">try/catch</code> blocks</td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 text-sm font-medium text-gray-900">Readability</td>
                                <td class="px-6 py-4 text-sm text-gray-600">Can become nested (callback hell)</td>
                                <td class="px-6 py-4 text-sm text-gray-600">Flat, linear structure</td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 text-sm font-medium text-gray-900">Debugging</td>
                                <td class="px-6 py-4 text-sm text-gray-600">Harder to step through</td>
                                <td class="px-6 py-4 text-sm text-gray-600">Standard debugging (breakpoints)</td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 text-sm font-medium text-gray-900">Browser Support</td>
                                <td class="px-6 py-4 text-sm text-gray-600">ES6 (2015)+</td>
                                <td class="px-6 py-4 text-sm text-gray-600">ES2017+ (Modern browsers)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- Best Practices -->
    <section class="py-20">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center mb-12">Best Practices</h2>

            <div class="grid md:grid-cols-2 gap-6">
                <div
                    class="flex gap-4 p-6 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow">
                    <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0 mt-1">
                        <span class="text-green-600 font-bold text-sm">1</span>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-1">Always Handle Errors</h4>
                        <p class="text-sm text-gray-600">Use .catch() or try/catch for every async operation to prevent
                            unhandled promise rejections.</p>
                    </div>
                </div>

                <div
                    class="flex gap-4 p-6 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow">
                    <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0 mt-1">
                        <span class="text-green-600 font-bold text-sm">2</span>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-1">Prefer Async/Await</h4>
                        <p class="text-sm text-gray-600">Use async/await for cleaner code, but understand Promises
                            underneath.</p>
                    </div>
                </div>

                <div
                    class="flex gap-4 p-6 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow">
                    <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0 mt-1">
                        <span class="text-green-600 font-bold text-sm">3</span>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-1">Run in Parallel</h4>
                        <p class="text-sm text-gray-600">Use Promise.all() for independent operations instead of
                            awaiting sequentially.</p>
                    </div>
                </div>

                <div
                    class="flex gap-4 p-6 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow">
                    <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0 mt-1">
                        <span class="text-green-600 font-bold text-sm">4</span>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-1">Don't Mix Styles</h4>
                        <p class="text-sm text-gray-600">Avoid mixing .then() with async/await in the same function for
                            consistency.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-400 py-12 border-t border-gray-800">
        <div
            class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center gap-2">
                <i data-lucide="zap" class="w-5 h-5 text-primary"></i>
                <span class="text-white font-semibold">AsyncJS Guide</span>
            </div>
            <p class="text-sm">Modern JavaScript Asynchronous Programming Guide</p>
            <div class="flex gap-6 text-sm">
                <a href="https://dhruvil05.github.io/promises-async-await/old-index.html" target="_blank" class="hover:text-white transition-colors">Documentation</a>
                <a href="https://developer.mozilla.org/en-US/docs/Learn_web_development/Extensions/Async_JS" target="_blank" class="hover:text-white transition-colors">MDN Reference</a>
            </div>
        </div>
    </footer>

    <script>
        // Initialize Lucide Icons
        lucide.createIcons();

        // Tab Switching Logic
        function switchTab(tab) {
            const promiseContent = document.getElementById('content-promise');
            const asyncContent = document.getElementById('content-async');
            const promiseTab = document.getElementById('tab-promise');
            const asyncTab = document.getElementById('tab-async');

            if (tab === 'promise') {
                promiseContent.classList.remove('hidden');
                asyncContent.classList.add('hidden');
                promiseTab.classList.add('tab-active');
                asyncTab.classList.remove('tab-active');
            } else {
                promiseContent.classList.add('hidden');
                asyncContent.classList.remove('hidden');
                promiseTab.classList.remove('tab-active');
                asyncTab.classList.add('tab-active');
            }
        }

        // State Highlighting
        function highlightState(state) {
            // Visual feedback logic could go here
            console.log('Highlighting:', state);
        }

        function resetState() {
            // Reset logic
        }

        // Console Output Helper
        function log(message, type = 'info') {
            const consoleEl = document.getElementById('console-output');
            const entry = document.createElement('div');
            const timestamp = new Date().toLocaleTimeString('en-US', { hour12: false, hour: "numeric", minute: "numeric", second: "numeric" });

            let colorClass = 'text-gray-300';
            let prefix = '>';

            if (type === 'success') {
                colorClass = 'text-green-400';
                prefix = 'âœ“';
            } else if (type === 'error') {
                colorClass = 'text-red-400';
                prefix = 'âœ—';
            } else if (type === 'warn') {
                colorClass = 'text-yellow-400';
                prefix = 'âš ';
            } else if (type === 'info') {
                colorClass = 'text-blue-400';
                prefix = 'â„¹';
            }

            entry.className = `font-mono text-sm ${colorClass} animate-fade-in`;
            entry.innerHTML = `<span class="text-gray-600 text-xs mr-2">[${timestamp}]</span><span class="mr-2">${prefix}</span>${message}`;

            consoleEl.appendChild(entry);
            consoleEl.scrollTop = consoleEl.scrollHeight;
        }

        function clearConsole() {
            const consoleEl = document.getElementById('console-output');
            consoleEl.innerHTML = '<div class="text-gray-500 italic">// Console cleared. Ready for new demo...</div>';
        }

        // Demo Functions
        function runBasicPromise() {
            clearConsole();
            log('Creating new Promise...', 'info');

            const success = Math.random() > 0.3; // 70% chance of success

            const myPromise = new Promise((resolve, reject) => {
                setTimeout(() => {
                    if (success) {
                        resolve("Operation successful! ðŸŽ‰");
                    } else {
                        reject("Operation failed! âŒ");
                    }
                }, 1500);
            });

            myPromise
                .then(result => {
                    log(result, 'success');
                })
                .catch(error => {
                    log(error, 'error');
                })
                .finally(() => {
                    log('Promise completed (finally block)', 'info');
                });

            log(`Promise pending... (success=${success})`, 'warn');
        }

        function runChaining() {
            clearConsole();
            log('Starting Promise chain...', 'info');

            function fetchUserData(userId) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        log(`Fetched user ${userId}`, 'info');
                        resolve({ id: userId, name: "John Doe" });
                    }, 800);
                });
            }

            function fetchUserPosts(user) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        log(`Fetched posts for ${user.name}`, 'info');
                        resolve([
                            { title: "Post 1", content: "Hello World" },
                            { title: "Post 2", content: "Learning Promises" }
                        ]);
                    }, 800);
                });
            }

            fetchUserData(123)
                .then(user => {
                    log(`User: ${JSON.stringify(user)}`, 'success');
                    return fetchUserPosts(user);
                })
                .then(posts => {
                    log(`Posts: ${JSON.stringify(posts)}`, 'success');
                    return posts.length;
                })
                .then(count => {
                    log(`Total posts: ${count}`, 'success');
                })
                .catch(error => {
                    log(`Error: ${error}`, 'error');
                });
        }

        async function runAsyncAwait() {
            clearConsole();
            log('Running async/await demo...', 'info');

            function delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            async function getUserData() {
                try {
                    log('Step 1: Starting...', 'info');
                    await delay(600);

                    log('Step 2: Fetching user...', 'info');
                    await delay(600);

                    log('Step 3: Processing data...', 'info');
                    await delay(600);

                    log('All steps completed!', 'success');
                    return { id: 1, name: "Jane Doe" };
                } catch (error) {
                    log(`Caught error: ${error}`, 'error');
                }
            }

            const result = await getUserData();
            log(`Final result: ${JSON.stringify(result)}`, 'success');
        }

        function runPromiseAll() {
            clearConsole();
            log('Running Promise.all() demo...', 'info');

            const p1 = new Promise(resolve => setTimeout(() => resolve("First (1s)"), 1000));
            const p2 = new Promise(resolve => setTimeout(() => resolve("Second (2s)"), 2000));
            const p3 = new Promise(resolve => setTimeout(() => resolve("Third (1.5s)"), 1500));

            log('Starting 3 parallel promises...', 'warn');

            Promise.all([p1, p2, p3])
                .then(results => {
                    log(`All resolved: ${JSON.stringify(results)}`, 'success');
                    log('Total time: ~2s (parallel)', 'info');
                })
                .catch(error => {
                    log(`One failed: ${error}`, 'error');
                });
        }

        function runPromiseRace() {
            clearConsole();
            log('Running Promise.race() demo...', 'info');

            const fast = new Promise(resolve => setTimeout(() => resolve("Fast! (1s)"), 1000));
            const slow = new Promise(resolve => setTimeout(() => resolve("Slow... (3s)"), 3000));

            log('Racing fast vs slow...', 'warn');

            Promise.race([fast, slow])
                .then(winner => {
                    log(`Winner: ${winner}`, 'success');
                    log('(Slow promise still running but ignored)', 'info');
                });
        }

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-slide-up');
                    entry.target.style.opacity = '1';
                }
            });
        }, observerOptions);

        document.querySelectorAll('section').forEach(section => {
            section.style.opacity = '0';
            observer.observe(section);
        });
    </script>
</body>

</html>